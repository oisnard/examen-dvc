schema: '2.0'
stages:
  split:
    cmd: python src/data/make_dataset.py
    deps:
    - path: data/raw_data/raw.csv
      hash: md5
      md5: 076ef13ee7a9bf9dd021560d1f4084c3
      size: 330716
    - path: params.yaml
      hash: md5
      md5: 97b1f449a0bd0999843fca4ee10f0855
      size: 243
    - path: src/data/make_dataset.py
      hash: md5
      md5: 6907386260b42aad7b2e1f920ba45c40
      size: 2231
    params:
      params.yaml:
        split.random_state: 42
        split.test_size: 0.2
    outs:
    - path: data/processed_data/X_test.csv
      hash: md5
      md5: f0f950fa87af7b8101f12ef2edd0b196
      size: 59902
    - path: data/processed_data/X_train.csv
      hash: md5
      md5: 8b182e996e777cfc33f76a677928c5b4
      size: 238468
    - path: data/processed_data/y_test.csv
      hash: md5
      md5: ecd7583c6c181db914d23b771b3b2e12
      size: 13737
    - path: data/processed_data/y_train.csv
      hash: md5
      md5: a851a8a5800aa662f1019cb92d51574c
      size: 55011
  normalize:
    cmd: python src/data/normalize_dataset.py
    deps:
    - path: data/processed_data/X_test.csv
      hash: md5
      md5: f0f950fa87af7b8101f12ef2edd0b196
      size: 59902
    - path: data/processed_data/X_train.csv
      hash: md5
      md5: 8b182e996e777cfc33f76a677928c5b4
      size: 238468
    - path: src/data/normalize_dataset.py
      hash: md5
      md5: 47b4a9b16a06b4adaed9cc208b03133d
      size: 699
    outs:
    - path: data/processed_data/X_test_scaled.csv
      hash: md5
      md5: 0b07f213a790019f6437460a2a871b0c
      size: 59402
    - path: data/processed_data/X_train_scaled.csv
      hash: md5
      md5: cf8a88e0958f55b8c88941813548e4c6
      size: 237705
  gridsearch:
    cmd: python src/models/model_gridsearch.py
    deps:
    - path: data/processed_data/X_train_scaled.csv
      hash: md5
      md5: cf8a88e0958f55b8c88941813548e4c6
      size: 237705
    - path: data/processed_data/y_train.csv
      hash: md5
      md5: a851a8a5800aa662f1019cb92d51574c
      size: 55011
    - path: params.yaml
      hash: md5
      md5: 97b1f449a0bd0999843fca4ee10f0855
      size: 243
    - path: src/models/model_gridsearch.py
      hash: md5
      md5: 8eebb49b4cda0ab70597013be509f3c0
      size: 2272
    params:
      params.yaml:
        gridsearch.cv: 5
        gridsearch.param_grid:
          n_estimators:
          - 50
          - 100
          - 200
          max_depth:
          - 
          - 10
          - 20
          min_samples_split:
          - 2
          - 5
          - 10
          min_samples_leaf:
          - 1
          - 2
          - 4
        gridsearch.scoring: neg_mean_squared_error
    outs:
    - path: models/best_params.pkl
      hash: md5
      md5: 7fb50e847afb759879ed53ec4d2c1ac8
      size: 90
  train:
    cmd: python src/models/model_train.py
    deps:
    - path: data/processed_data/X_train_scaled.csv
      hash: md5
      md5: cf8a88e0958f55b8c88941813548e4c6
      size: 237705
    - path: data/processed_data/y_train.csv
      hash: md5
      md5: a851a8a5800aa662f1019cb92d51574c
      size: 55011
    - path: models/best_params.pkl
      hash: md5
      md5: 7fb50e847afb759879ed53ec4d2c1ac8
      size: 90
    - path: src/models/model_train.py
      hash: md5
      md5: 2a992c57c6c31c35c9526a456fcddd1d
      size: 643
    outs:
    - path: models/model.pkl
      hash: md5
      md5: 5c7bf365add5ad0e5d14a13f6346ecdf
      size: 3284657
  evaluate:
    cmd: python src/models/model_evaluate.py
    deps:
    - path: data/processed_data/X_test_scaled.csv
      hash: md5
      md5: 0b07f213a790019f6437460a2a871b0c
      size: 59402
    - path: data/processed_data/y_test.csv
      hash: md5
      md5: ecd7583c6c181db914d23b771b3b2e12
      size: 13737
    - path: models/model.pkl
      hash: md5
      md5: 5c7bf365add5ad0e5d14a13f6346ecdf
      size: 3284657
    - path: src/models/model_evaluate.py
      hash: md5
      md5: 71404bce1faa0a0866a66afc966cc5bf
      size: 1094
    outs:
    - path: data/predictions.csv
      hash: md5
      md5: 100fe210bd370aa3e6dd12f84402365b
      size: 14056
    - path: metrics/scores.json
      hash: md5
      md5: f5be51eb03be599ee26290b1eab29dc5
      size: 191
